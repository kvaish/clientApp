{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AAkBpC,IAAa,eAAe;IAA5B;IAA8B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAlB,eAAe;IAf3B,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,yDAAS;SACV;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;SACpC;QACD,OAAO,EAAE;YACP,yDAAS;SACV;QACD,SAAS,EAAE;YACT,yDAAS;YACT,OAAO;SACR;KACF,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACpBc;AAC4D;AACtB;AACvC;AACzC,sDAAsD;AACtD;;;;;GAKG;AAMH,IAAa,SAAS;IAOpB,mBAAoB,GAAkB,EAAU,IAAyB,EAAU,SAA0B,EACzF,WAA8B,EAAC,OAAe;QAD9C,QAAG,GAAH,GAAG,CAAe;QAAU,SAAI,GAAJ,IAAI,CAAqB;QAAU,cAAS,GAAT,SAAS,CAAiB;QACzF,gBAAW,GAAX,WAAW,CAAmB;QACpC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACrC,CAAC;IAEM,iCAAa,GAApB;QACE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAChC,CAAC;IAED,yBAAK,GAAL;QAAA,iBAmBC;QAlBC,IAAM,IAAI,GAAG;YACX,KAAK,EAAC,IAAI,CAAC,KAAK;YAChB,QAAQ,EAAC,IAAI,CAAC,QAAQ;SACvB;QACH,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;YAClC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACnB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACrC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAC;gBAChB,EAAE,EAAC,IAAI,IAAI,KAAK,CAAC,EAAC;oBAEhB,KAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAClC,CAAC;gBACD,IAAI,EAAC;oBACH,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBAC3B,CAAC;YACH,CAAC;QACH,CAAC,EAAC,UAAC,GAAG,IAAG,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;IAC7B,CAAC;IAED,+BAAW,GAAX;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACrC,OAAO,EAAE,gBAAgB;YACzB,mBAAmB,EAAE,IAAI;SAC1B,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAED,6BAAS,GAAT,UAAU,IAAI;QAGZ,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,KAAK,GAAE,UAAU,GAAG,KAAK,GAAG,MAAM;YACzC,QAAQ,EAAE,kCAAkC,GAAG,MAAM,GAAE,QAAQ,GAAI,KAAK,GAAG,IAAI,GAAG,MAAM,GAAE,gCAAgC;YAC1H,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IACxB,CAAC;IAEH,gBAAC;AAAD,CAAC;AAxDY,SAAS;IALrB,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,YAAY;OACG;KAC1B,CAAC;cASkE;AAgDnE;SAxDY,SAAS","file":"3.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LoginPage } from './login';\r\nimport {IonicStorageModule} from '@ionic/Storage';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LoginPage),\r\n  ],\r\n  exports: [\r\n    LoginPage\r\n  ],\r\n  providers: [\r\n    LoginPage,\r\n    Storage\r\n  ]\r\n})\r\nexport class LoginPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\r\nimport { NavController, AlertController, LoadingController, Loading, IonicPage } from 'ionic-angular';\r\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\r\nimport { Storage } from '@ionic/Storage'; \r\n//import { RegisterPage } from '../register/register';\r\n/**\r\n * Generated class for the LoginPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n\r\n  loading: Loading;\r\n  email:string;\r\n  password:string;\r\n  private storage:Storage;\r\n \r\n  constructor(private nav: NavController, private auth: AuthServiceProvider, private alertCtrl: AlertController,\r\n              private loadingCtrl: LoadingController,storage:Storage) { \r\n                this.storage = storage;\r\n  }\r\n\r\n  public createAccount() {\r\n    this.nav.push('RegisterPage');\r\n  }\r\n \r\n  login(){\r\n    const user = {\r\n      email:this.email,\r\n      password:this.password\r\n    }\r\n  this.auth.login(user).subscribe((data)=>{\r\n     console.log(data);\r\n    this.storage.set('name',data.username);\r\n      if(data.username){\r\n        if(data != 'err'){\r\n\r\n          this.showLoading();\r\n          this.nav.setRoot('HomeTabPage');\r\n        }\r\n        else{\r\n          this.showError('Failed');\r\n        }\r\n      }\r\n    },(err)=>console.log(err));\r\n  }\r\n \r\n  showLoading() {\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Please wait...',\r\n      dismissOnPageChange: true\r\n    });\r\n    this.loading.present();\r\n  }\r\n \r\n  showError(text) {\r\n    \r\n \r\n    let alert = this.alertCtrl.create({\r\n      title: '<b>' +'Bummer!!' + '<b>' + '<br>',\r\n      subTitle: 'Incorrect Username and Password.' + '<br>'+ 'Click '  + '<b>' + 'OK' + '</b>'+ ' to go back to the Login Page.' ,\r\n      buttons: ['OK']\r\n    });\r\n    alert.present(prompt);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}