{"version":3,"sources":["../../src/pages/create-request/create-request.module.ts","../../src/pages/create-request/create-request.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CreateRequestPage } from './create-request';\n\n@NgModule({\n  declarations: [\n    CreateRequestPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CreateRequestPage),\n  ],\n  exports: [\n    CreateRequestPage\n  ]\n})\nexport class CreateRequestPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-request/create-request.module.ts","import { Component, ElementRef } from '@angular/core';\r\nimport { App ,IonicPage, NavController, NavParams, AlertController, Tabs } from 'ionic-angular';\r\nimport { RequestProvider } from '../../providers/request/request';\r\nimport { DatePicker } from '@ionic-native/date-picker';\r\nimport {Storage} from '@ionic/Storage';\r\n\r\n/**\r\n * Generated class for the CreateRequestPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-create-request',\r\n  templateUrl: 'create-request.html',\r\n})\r\nexport class CreateRequestPage {\r\n  //storage:Storage;\r\n  request:{\r\n    reqtype:string,\r\n    actype:string,\r\n    reqdesc:string,\r\n    capacity:string,\r\n    date:string,\r\n    clientid:string\r\n  }\r\n\r\n    reqtype:string;\r\n    actype:string;\r\n    reqdesc:string;\r\n    capacity:string;\r\n    date:any;\r\n    clientid:string;\r\n\r\n  constructor(private app: App, private datePicker: DatePicker, public navCtrl: NavController, public alertCtrl: AlertController,\r\n              public navParams: NavParams,private requestProvider:RequestProvider,private storage:Storage, private element: ElementRef) {\r\n                //this.storage = storage;\r\n                this.storage.get('name').then(name=>{\r\n                  this.clientid = name;\r\n                  \r\n                });\r\n\r\n    console.log(this.navParams.get('coordinates'));\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad RequestPage');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\t\tthis.adjust();\r\n\t}\r\n\r\n  logRequest(){\r\n    if(this.date == 'now' || this.date == 'Now'){\r\n      //alert('date is now');\r\n      this.date = new Date();\r\n    }\r\n    console.log(this.date);\r\n    const newRequest={\r\n      reqtype:this.reqtype,\r\n      actype:this.actype,\r\n      reqdesc:this.reqdesc,\r\n      capacity:this.capacity,\r\n      location: this.navParams.get('coordinates'),\r\n      address: this.navParams.get('address'),\r\n      clientid:this.clientid,\r\n      date: this.date\r\n    }\r\n    //alert(this.date)\r\n    console.log(newRequest);\r\n      this.requestProvider.logRequest(newRequest).subscribe((request)=>{\r\n        \r\n      if(request == \"done\"){\r\n        this.requestProvider.showPopup('Success', 'Request Logged Successfully!');\r\n        this.navCtrl.setRoot(this.navCtrl.getActive().component)\r\n        var t: Tabs = this.navCtrl.parent;\r\n        t.select(1);\r\n      }\r\n      else{\r\n        this.requestProvider.showPopup('Error', 'Could not Log Request, Please try again!');\r\n      }\r\n     \r\n    });\r\n  }\r\n\r\n  datepicker(){\r\n    this.datePicker.show({\r\n      date: new Date(),\r\n      mode: 'date',\r\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK\r\n    }).then(\r\n      date => { \r\n        //let input:any = document.getElementById(\"date\") as HTMLInputElement;\r\n        //input.value = date;\r\n        this.date = date;\r\n      },\r\n      err => console.log('Error occurred while getting date: ', err)\r\n    );\r\n  }\r\n  \r\n  adjust(): void {\r\n\t\tlet ta = this.element.nativeElement.querySelector(\"textarea\");\r\n\t\t\r\n\t\tif (ta) {\r\n\t\t\tta.style.overflow = \"hidden\";\r\n\t\t\tta.style.height = \"auto\";\r\n\t\t\tta.style.height = ta.scrollHeight + \"px\";\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-request/create-request.ts"],"sourceRoot":""}