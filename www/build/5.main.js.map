{"version":3,"sources":["../../src/pages/create-request/create-request.module.ts","../../src/pages/create-request/create-request.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CreateRequestPage } from './create-request';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CreateRequestPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(CreateRequestPage),\r\n  ],\r\n  exports: [\r\n    CreateRequestPage\r\n  ]\r\n})\r\nexport class CreateRequestPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-request/create-request.module.ts","import { Component } from '@angular/core';\r\nimport { App ,IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\r\nimport { RequestProvider } from '../../providers/request/request';\r\nimport { DatePicker } from '@ionic-native/date-picker';\r\nimport {Storage} from '@ionic/Storage';\r\n\r\n/**\r\n * Generated class for the CreateRequestPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-create-request',\r\n  templateUrl: 'create-request.html',\r\n})\r\nexport class CreateRequestPage {\r\n  storage:Storage;\r\n  request:{\r\n    reqtype:string,\r\n    actype:string,\r\n    reqdesc:string,\r\n    capacity:string,\r\n    date:string,\r\n    clientid:string\r\n  }\r\n\r\n    reqtype:string;\r\n    actype:string;\r\n    reqdesc:string;\r\n    capacity:string;\r\n    date:any;\r\n    clientid:string;\r\n\r\n  constructor(private app: App, private datePicker: DatePicker, public navCtrl: NavController, public alertCtrl: AlertController,\r\n              public navParams: NavParams,private requestProvider:RequestProvider,storage:Storage) {\r\n                this.storage = storage;\r\n                this.storage.get('name').then(name=>{\r\n                  this.clientid = name;\r\n                  \r\n                });\r\n\r\n    console.log(this.navParams.get('coordinates'));\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n    console.log('ionViewDidLoad RequestPage');\r\n\r\n  }\r\n\r\n  logRequest(){\r\n    if(this.date == 'now'){\r\n      alert('date is now');\r\n      this.date = new Date;\r\n    }\r\n    console.log(this.date);\r\n    const newRequest={\r\n      reqtype:this.reqtype,\r\n      actype:this.actype,\r\n      reqdesc:this.reqdesc,\r\n      capacity:this.capacity,\r\n      location: this.navParams.get('coordinates'),\r\n      address: this.navParams.get('address'),\r\n      clientid:this.clientid,\r\n      date: this.date\r\n    }\r\n    \r\n    console.log(newRequest);\r\n      this.requestProvider.logRequest(newRequest).subscribe((request)=>{\r\n         console.log(request);\r\n      if(request == \"done\"){\r\n        this.requestProvider.showPopup('Success', 'Request Logged Successfully!');\r\n        let nav = this.app.getRootNav();\r\n        this.navCtrl.setRoot(this.navCtrl.getActive().component)\r\n        nav.push('OnGoingRequestsPage');\r\n        //this.navCtrl.parent.parent.setRoot('OnGoingRequestsPage');\r\n      }\r\n      else{\r\n        this.requestProvider.showPopup('Error', 'Could not Log Request, Please try again!');\r\n      }\r\n     \r\n    });\r\n  }\r\n\r\n  datepicker(){\r\n    this.datePicker.show({\r\n      date: new Date(),\r\n      mode: 'date',\r\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK\r\n    }).then(\r\n      date => { \r\n        //let input:any = document.getElementById(\"date\") as HTMLInputElement;\r\n        //input.value = date;\r\n        this.date = date;\r\n        \r\n      },\r\n      err => console.log('Error occurred while getting date: ', err)\r\n    );\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-request/create-request.ts"],"sourceRoot":""}