{"version":3,"sources":["../../src/pages/request-history/request-history.module.ts","../../src/pages/request-history/request-history.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACO;AACmC;AAkB1F,IAAa,wBAAwB;IAArC;IAAuC,CAAC;IAAD,+BAAC;AAAD,CAAC;AAA3B,wBAAwB;IAdpC,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,4EAAkB;SAEnB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,4EAAkB,CAAC;YAC5C,sGAAyB;SAC1B;QACD,OAAO,EAAE;YACP,4EAAkB;SAEnB;KACF,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACrBK;AAC2C;AACnB;AAClB;AACT;AACiC;AACxE;;;;;GAKG;AAMH,IAAa,kBAAkB;IAY7B,4BAAmB,OAAsB,EAAS,SAAoB,EAAS,eAA+B,EAC3F,QAAwB,EAAS,OAAe,EAAS,SAAyB;QADlF,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,oBAAe,GAAf,eAAe,CAAgB;QAC3F,aAAQ,GAAR,QAAQ,CAAgB;QAAS,YAAO,GAAP,OAAO,CAAQ;QAAS,cAAS,GAAT,SAAS,CAAgB;QAVrG,UAAK,GAAG,WAAW,CAAC;IAYpB,CAAC;IAED,6CAAgB,GAAhB;QAAA,iBAUC;QATC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,cAAI;YAGpB,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC,SAAS,CAAC,kBAAQ;gBAChE,KAAI,CAAC,QAAQ,GAAC,QAAQ,CAAC;YAE3B,CAAC,CAAC,CAAC;QAEf,CAAC,CAAC,CAAC;IACP,CAAC;IAED,2CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;IAE/C,CAAC;IAED,+CAAkB,GAAlB,UAAmB,OAAO;QAExB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,4FAAkB,EAAC,EAAC,SAAS,EAAC,OAAO,EAAC,CAAC,CAAC;QAC1E,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BA0CkB;IAEpB,CAAC;IAED,uCAAU,GAAV;IAEA,CAAC;IAED,uCAAU,GAAV;IAEA,CAAC;IAED,oCAAO,GAAP;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC;IAC3D,CAAC;IACF;;;;OAIG;IAEH,mCAAM,GAAN;QACG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACxB,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IAElD,CAAC;IAEH,yBAAC;AAAD,CAAC;AA9GY,kBAAkB;IAL9B,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;OACG;KACpC,CAAC;uBAcqG;AAiGtG;SA9GY,kBAAkB","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { RequestHistoryPage } from './request-history';\r\nimport { OnGoingRequestsPageModule } from '../on-going-requests/on-going-requests.module';\r\nimport { RequestsPipe } from '../../pipes/requests/requests';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RequestHistoryPage,\r\n    \r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(RequestHistoryPage),\r\n    OnGoingRequestsPageModule\r\n  ],\r\n  exports: [\r\n    RequestHistoryPage,\r\n    //RequestsPipe\r\n  ]\r\n})\r\nexport class RequestHistoryPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/request-history/request-history.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\r\nimport { RequestProvider } from '../../providers/request/request';\r\nimport { AlertController } from 'ionic-angular';\r\nimport {Storage} from '@ionic/Storage';\r\nimport { RequestDetailsPage } from '../request-details/request-details';\r\n/**\r\n * Generated class for the RequestHistoryPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-request-history',\r\n  templateUrl: 'request-history.html',\r\n})\r\nexport class RequestHistoryPage {\r\n  //storage:Storage;\r\n  clientid:string;\r\n  state = 'Completed';\r\n  createdate:string;\r\n  requests:[{\r\n    reqtype:string,\r\n    phone:number,\r\n    reqdesc:string,\r\n    status:string\r\n  }];\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,private requestProvider:RequestProvider,\r\n              public alrtCtrl:AlertController,private storage:Storage,private modalCtrl:ModalController) {\r\n               \r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.storage.get('name').then(name=>{\r\n                  \r\n                  \r\n                  this.requestProvider.getRequests(this.state,name).subscribe(requests=>{\r\n                      this.requests=requests;\r\n      \r\n                  });\r\n                  \r\n      });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AllRequestPage');\r\n    \r\n  }\r\n\r\n  showRequestDetails(request){\r\n\r\n    let modal = this.modalCtrl.create(RequestDetailsPage,{'request':request});\r\n    modal.present();\r\n\r\n    /*let alert = this.alrtCtrl.create({\r\n      title:'<div class =\"request-title\">' + \"Request Details\" + '</div>',\r\n      subTitle: '<b>' + 'Type: ' + '</b>' + request.reqtype  + '<br><br>' +\r\n                '<b>' + 'Description: ' +'</b>' + request.reqdesc + '<br><br>' + \r\n                '<b>' + 'Create Date: ' + '</b>' + request.createdate + '<br><br>' +\r\n                '<b>' + 'Status: ' + '</b>' + request.status + '<br><br>'+\r\n                '<b>' + 'Service Date: ' + '</b>' + request.date  ,\r\n      buttons:[\r\n        {\r\n          text:'Cancel Job',\r\n          handler:()=>{\r\n            let alert2 = this.alrtCtrl.create({\r\n              title: 'Delete Request!!',\r\n              subTitle: 'Are you sure you want to Cancel this Service ?',\r\n              buttons:[\r\n                {\r\n                  text: 'No',\r\n                  role: 'cancel'\r\n                },\r\n                {\r\n                  text: 'Yes',\r\n                  handler:()=>{\r\n                    this.requestProvider.updateRequest(request._id).subscribe(success=>{\r\n                      var index = this.requests.indexOf(request,0);\r\n                      if(index > -1){\r\n                        this.requests.splice(index,-1);\r\n                        this.navCtrl.setRoot(this.navCtrl.getActive().component);\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              ]\r\n            });\r\n            alert2.present();\r\n          }\r\n        },\r\n        {\r\n          text:'OK',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    });\r\n    alert.present();*/\r\n    \r\n  }\r\n\r\n  menuOpened(){\r\n\r\n  }\r\n\r\n  menuClosed(){\r\n\r\n  }\r\n\r\n  refresh(){\r\n    this.navCtrl.setRoot(this.navCtrl.getActive().component);\r\n  }\r\n /*editRequest(request){\r\n   this.navCtrl.push(ActiveRequestsPage,{\r\n     request:request\r\n   });\r\n }*/\r\n\r\n logout(){\r\n    this.storage.clear().then(() => {\r\n      console.log('Keys have been cleared');\r\n    });\r\n    this.navCtrl.parent.parent.setRoot('LoginPage');\r\n    \r\n  }\r\n \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/request-history/request-history.ts"],"sourceRoot":""}